<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Extend employee form with Lawyer info -->
    <record id="view_hr_employee_form_law_firm" model="ir.ui.view">
        <field name="name">hr.employee.form.law.firm</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="inside">
                <button name="action_view_law_cases" class="oe_stat_button" icon="fa-gavel" type="object">
                    <div class="o_stat_info">
                        Casos
                        <span class="o_stat_value">
                            <field name="case_count"/>
                        </span>
                    </div>
                </button>

            </xpath>
            <xpath expr="//field[@name='parent_id']" position="after">
                <group string="InformaciÃ³n del Abogado">
                    <field name="is_lawyer"/>
                    <field name="lawyer_title" invisible="not is_lawyer" />
                    <field name="expert_practice_area_ids" widget="many2many_tags"/>
                    <field name="years_of_experience"/>
                    <button name="action_view_law_cases"
                        string="View Cases" type="object"
                        class="oe_highlight" invisible="not is_lawyer"/>
                </group>
            </xpath>
        </field>
    </record>

    <!-- Action to list only lawyers (employees with is_lawyer = True) -->
    <record id="action_law_lawyers" model="ir.actions.act_window">
        <field name="name">Lawyers</field>
        <field name="res_model">hr.employee</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('is_lawyer', '=', True)]</field>
        <field name="context">{'default_is_lawyer': True}</field>
    </record>

</odoo>